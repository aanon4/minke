
#
# Network setup assumed already created a bridge on the host
#
#docker network create --driver=bridge --subnet=192.168.1.0/24 --gateway=192.168.1.15 -o "com.docker.network.bridge.name=br0" home # --aux-address="DefaultGatewayIPv4=192.168.1.1" home
#

#docker build -t registry.gitlab.com/minkebox/minke .
docker container rm minke
docker run --name minke -d --privileged \
  -v /etc/timezone:/etc/timezone:ro \
  -v /var/run/docker.sock:/var/run/docker.sock \
  --mount type=bind,source=/home/minke/fs,target=/minke/fs,bind-propagation=rshared \
  --mount type=bind,source=/home/minke/db,target=/minke/db,bind-propagation=rshared \
  --mount type=bind,source=${PWD}/app/skeletons/local,target=/app/skeletons/local,bind-propagation=rshared \
  --network=home --ip=192.168.1.14 \
  registry.gitlab.com/minkebox/minke
