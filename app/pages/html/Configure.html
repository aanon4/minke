<!DOCTYPE html>
<html class="configure">
  <head>
    <link href="/css/configure.css" rel="stylesheet" type="text/css">
    <link href="/css/pure.css" rel="stylesheet" type="text/css">
    <link href="/css/grids-responsive.css" rel="stylesheet" type="text/css">
    <script src="/js/script.js" type="text/javascript"></script>
  </head>
  <body>
    <div class="pure-g">
      {{#with skeleton}}
      <div class="sidebar pure-u-1 pure-u-md-1-4">
        <div class="header">            
          <div class="name" contenteditable="true" placeholder="{{name}}" oninput="action('Name',this.innerText)">{{value}}</div>
          <h2 class="description">{{description}}</h2>
          <nav>
            <a class="pure-button" onclick="setEditMode(null) || cmd('app.save')">Edit</a>
            <a class="pure-button" onclick="cmd('app.restart')">Restart</a>
            <a class="pure-button" onclick="cmd('app.delete');window.parent.closeInlinePage()">Delete</a>
          </nav>
        </div>
      </div>
      <div class="content pure-u-1 pure-u-md-3-4">
        <form class="actions pure-form pure-form-aligned">
        {{#each actions}}
        {{#if (eq type "Header")}}
        <div class="content-header">{{value}}</div>
        {{/if}}
        {{#if (eq type "Environment")}}
        <div class="action environment pure-control-group">
          <label class="description">{{description}}</label>
          {{#if options}}
          <select class="pure-input-rounded pure-u-16-24 value" value="{{value}}" oninput="{{action}}">
            {{#each options}}
            <option value="{{value}}">{{name}}</option>
            {{/each}}
          </select>
          {{else}}
          <input class="pure-input-rounded pure-u-16-24 value" type="text" spellcheck="false" placeholder="{{placeholder}}" value="{{value}}" oninput="{{action}}">
          {{/if}}
        </div>
        {{/if}}
        {{#if (eq type "Argument")}}
        <div class="action argument pure-control-group">
          <label class="description">{{description}}</label>
          <input class="value" type="text" placeholder="{{placeholder}}" value="{{value}}" oninput="{{action}}">
        </div>
        {{/if}}
        {{#if (eq type "Share")}}
        <div class="action share pure-control-group">
          <label class="description">{{description}}</label>
          <input class="value" type="checkbox" {{#if value}}checked{{/if}} onchange="{{action}}">
        </div>
        {{/if}}
        {{#if (eq type "File")}}
        <div class="action file pure-control-group">
          <label class="description">{{description}}</label>
          <div class="value pure-input-rounded pure-u-16-24" spellcheck="false" contenteditable="true" oninput="{{action}}">{{value}}</div>
        </div>
        {{/if}}
        {{#if (eq type "NAT")}}
        <div class="action nat pure-control-group">
          <label class="description">{{description}}</label>
          <input class="value" type="checkbox" {{#if value}}checked{{/if}} onchange="{{action}}">
        </div>
        {{/if}}
        {{#if (eq type "Network")}}
        <div class="action network pure-control-group">
          <label class="description">{{description}}</label>
          <select onchange="{{action}}">
            {{#each networks}}
            <option {{#if (eq ../value name)}}selected{{/if}}>{{name}}</option>
            {{/each}}
          </select>
        </div>
        {{/if}}
        {{else}}
        <div class="content-header">Nothing to configure</div>
        {{/each}}
        </form>
      {{/with}}
        <div class="skeleton">
          <div class="content-header">Skeleton</div>
          <div class="editor" spellcheck="false" contenteditable="true" oninput="skelValid(this) && action('Skeleton',this.innerText)">{{skeletonAsText}}</div>
        </div>
      </div>
    </div>
  </body>
</html>
